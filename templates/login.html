<!-- templates/login.html -->
{% extends "base.html" %} {% block title %}Login - Mission Risk Management
System{% endblock %} {% block extra_css %}
<style>
  body {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    font-family: "Inter", Tahoma, Geneva, Verdana, sans-serif;
  }

  .login-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .login-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 25px;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    overflow: hidden;
    max-width: 450px;
    width: 100%;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .login-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
  }

  .login-header {
    background: linear-gradient(135deg, #4361ee, #3f37c9);
    color: white;
    padding: 3rem 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .login-header::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      45deg,
      transparent,
      rgba(255, 255, 255, 0.1),
      transparent
    );
    transform: rotate(45deg);
    animation: shine 3s infinite;
  }

  @keyframes shine {
    0% {
      transform: translateX(-100%) translateY(-100%) rotate(45deg);
    }
    100% {
      transform: translateX(100%) translateY(100%) rotate(45deg);
    }
  }

  .paf-logo-large {
    height: 80px;
    margin-bottom: 1.5rem;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    transition: transform 0.3s ease;
  }

  .paf-logo-large:hover {
    transform: scale(1.05);
  }

  .login-header h3 {
    font-weight: 700;
    margin-bottom: 0.5rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  .login-header p {
    opacity: 0.9;
    font-weight: 300;
    margin-bottom: 0;
  }

  .login-body {
    padding: 3rem 2.5rem;
  }

  .form-control {
    border-radius: 12px;
    padding: 15px 20px;
    border: 2px solid #e9ecef;
    transition: all 0.3s ease;
    font-size: 1rem;
    background: rgba(255, 255, 255, 0.9);
  }

  .form-control:focus {
    border-color: #4361ee;
    box-shadow: 0 0 0 0.2rem rgba(67, 97, 238, 0.15);
    background: white;
    transform: translateY(-2px);
  }

  .input-group-text {
    background: linear-gradient(135deg, #4361ee, #3f37c9);
    border: none;
    border-radius: 12px 0 0 12px;
    color: white;
    padding: 15px 20px;
  }

  .btn-login {
    background: linear-gradient(135deg, #4361ee, #3f37c9);
    border: none;
    border-radius: 12px;
    padding: 15px;
    font-weight: 600;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .btn-login::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent
    );
    transition: left 0.5s;
  }

  .btn-login:hover::before {
    left: 100%;
  }

  .btn-login:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(67, 97, 238, 0.4);
  }

  .btn-login:active {
    transform: translateY(-1px);
  }

  .feature-list {
    list-style: none;
    padding: 0;
    margin: 2rem 0 0 0;
  }

  .feature-list li {
    padding: 8px 0;
    color: #666;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
  }

  .feature-list li i {
    color: #4361ee;
    margin-right: 10px;
    font-size: 0.8rem;
  }

  .system-info {
    background: rgba(67, 97, 238, 0.05);
    border-radius: 15px;
    padding: 1.5rem;
    margin-top: 2rem;
    text-align: center;
  }

  .system-info h6 {
    color: #4361ee;
    margin-bottom: 0.5rem;
    font-weight: 600;
  }

  .system-info p {
    color: #666;
    font-size: 0.85rem;
    margin-bottom: 0;
  }

  .copyright-login {
    text-align: center;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #e9ecef;
    color: #666;
    font-size: 0.8rem;
  }

  /* Responsive Design */
  @media (max-width: 576px) {
    .login-card {
      margin: 10px;
      max-width: 100%;
    }

    .login-body {
      padding: 2rem 1.5rem;
    }

    .login-header {
      padding: 2rem 1.5rem;
    }

    .paf-logo-large {
      height: 60px;
    }

    .form-control {
      padding: 12px 15px;
    }

    .input-group-text {
      padding: 12px 15px;
    }
  }

  /* Loading animation for button */
  .btn-loading {
    position: relative;
    color: transparent;
  }

  .btn-loading::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    top: 50%;
    left: 50%;
    margin-left: -10px;
    margin-top: -10px;
    border: 2px solid #ffffff;
    border-radius: 50%;
    border-right-color: transparent;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
</style>
{% endblock %} {% block login_content %}
<div class="login-container">
  <div class="login-card">
    <div class="login-header">
      <!-- Philippine Air Force Logo -->
      <img
        src="{{ url_for('static', filename='logo.png') }}"
        alt="Philippine Air Force"
        class="paf-logo-large"
      />
      <h3>Mission Risk Management</h3>
      <p>Secure Login Portal - Philippine Air Force</p>
    </div>

    <div class="login-body">
      <form method="POST" id="loginForm">
        <!-- CSRF Token -->
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />

        <!-- Username Field -->
        <div class="mb-4">
          <label for="username" class="form-label fw-semibold">Username</label>
          <div class="input-group">
            <span class="input-group-text">
              <i class="fas fa-user"></i>
            </span>
            <input
              type="text"
              class="form-control"
              id="username"
              name="username"
              required
              placeholder="Enter your username"
              autocomplete="username"
            />
          </div>
        </div>

        <!-- Password Field -->
        <div class="mb-4">
          <label for="password" class="form-label fw-semibold">Password</label>
          <div class="input-group">
            <span class="input-group-text">
              <i class="fas fa-lock"></i>
            </span>
            <input
              type="password"
              class="form-control"
              id="password"
              name="password"
              required
              placeholder="Enter your password"
              autocomplete="current-password"
            />
          </div>
        </div>

        <!-- Login Button -->
        <button type="submit" class="btn btn-login w-100 mb-4" id="loginBtn">
          <i class="fas fa-sign-in-alt me-2"></i> Login to System
        </button>
      </form>

      <!-- Copyright -->
      <div class="copyright-login">
        <i class="fas fa-copyright me-1"></i> 2025 Philippine Air Force<br />
        <small>Developed by SSg John Daren P Noche PAF, TOG 10</small>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const loginForm = document.getElementById("loginForm");
    const loginBtn = document.getElementById("loginBtn");

    // Form submission handler
    loginForm.addEventListener("submit", function (e) {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value;

      if (!username || !password) {
        e.preventDefault();
        return;
      }

      // Show loading state
      loginBtn.classList.add("btn-loading");
      loginBtn.disabled = true;
    });

    // Input validation
    const inputs = document.querySelectorAll("input[required]");
    inputs.forEach((input) => {
      input.addEventListener("input", function () {
        if (this.value.trim()) {
          this.classList.remove("is-invalid");
          this.classList.add("is-valid");
        } else {
          this.classList.remove("is-valid");
        }
      });
    });

    // Auto-focus username field
    document.getElementById("username").focus();

    // Add enter key support
    document.addEventListener("keypress", function (e) {
      if (e.key === "Enter") {
        const focused = document.activeElement;
        if (focused && focused.form === loginForm) {
          loginForm.dispatchEvent(new Event("submit"));
        }
      }
    });
  });
</script>
{% endblock %}
